<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="700" viewBox="0 0 900 700" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font-family: 'Noto Sans JP', sans-serif; font-size: 20px; font-weight: bold; fill: #2c3e50; }
      .stage-title { font-family: 'Noto Sans JP', sans-serif; font-size: 14px; font-weight: bold; fill: #fff; }
      .method-text { font-family: 'Noto Sans JP', sans-serif; font-size: 11px; fill: #2c3e50; }
      .small-text { font-family: 'Noto Sans JP', sans-serif; font-size: 10px; fill: #7f8c8d; }
      .detection-box { fill: #e74c3c; stroke: #c0392b; stroke-width: 2; }
      .analysis-box { fill: #3498db; stroke: #2980b9; stroke-width: 2; }
      .resolution-box { fill: #2ecc71; stroke: #27ae60; stroke-width: 2; }
      .validation-box { fill: #f39c12; stroke: #e67e22; stroke-width: 2; }
      .documentation-box { fill: #9b59b6; stroke: #8e44ad; stroke-width: 2; }
      .component { fill: #fff; stroke: #95a5a6; stroke-width: 1; }
      .flow-arrow { stroke: #34495e; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .feedback-arrow { stroke: #e74c3c; stroke-width: 2; stroke-dasharray: 5,3; fill: none; marker-end: url(#arrowhead-red); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#34495e"/>
    </marker>
    <marker id="arrowhead-red" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#e74c3c"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="30" class="title" text-anchor="middle">ITインフラトラブルシューティングプロセス</text>

  <!-- 1. Detection Phase -->
  <g id="detection">
    <rect x="50" y="80" width="200" height="120" class="detection-box" rx="10"/>
    <text x="150" y="105" class="stage-title" text-anchor="middle">1. 問題検出</text>
    
    <rect x="65" y="120" width="170" height="25" class="component" rx="3"/>
    <text x="150" y="137" class="method-text" text-anchor="middle">アラート受信</text>
    
    <rect x="65" y="150" width="170" height="25" class="component" rx="3"/>
    <text x="150" y="167" class="method-text" text-anchor="middle">ユーザー報告</text>
    
    <text x="150" y="190" class="small-text" text-anchor="middle">監視システム・ログ確認</text>
  </g>

  <!-- 2. Analysis Phase -->
  <g id="analysis">
    <rect x="290" y="80" width="200" height="120" class="analysis-box" rx="10"/>
    <text x="390" y="105" class="stage-title" text-anchor="middle">2. 原因分析</text>
    
    <rect x="305" y="120" width="170" height="25" class="component" rx="3"/>
    <text x="390" y="137" class="method-text" text-anchor="middle">情報収集</text>
    
    <rect x="305" y="150" width="170" height="25" class="component" rx="3"/>
    <text x="390" y="167" class="method-text" text-anchor="middle">影響範囲特定</text>
    
    <text x="390" y="190" class="small-text" text-anchor="middle">ログ解析・相関分析</text>
  </g>

  <!-- 3. Resolution Phase -->
  <g id="resolution">
    <rect x="530" y="80" width="200" height="120" class="resolution-box" rx="10"/>
    <text x="630" y="105" class="stage-title" text-anchor="middle">3. 問題解決</text>
    
    <rect x="545" y="120" width="170" height="25" class="component" rx="3"/>
    <text x="630" y="137" class="method-text" text-anchor="middle">対応策実施</text>
    
    <rect x="545" y="150" width="170" height="25" class="component" rx="3"/>
    <text x="630" y="167" class="method-text" text-anchor="middle">回復確認</text>
    
    <text x="630" y="190" class="small-text" text-anchor="middle">修正・復旧・代替手段</text>
  </g>

  <!-- 4. Validation Phase -->
  <g id="validation">
    <rect x="290" y="240" width="200" height="120" class="validation-box" rx="10"/>
    <text x="390" y="265" class="stage-title" text-anchor="middle">4. 検証・確認</text>
    
    <rect x="305" y="280" width="170" height="25" class="component" rx="3"/>
    <text x="390" y="297" class="method-text" text-anchor="middle">動作テスト</text>
    
    <rect x="305" y="310" width="170" height="25" class="component" rx="3"/>
    <text x="390" y="327" class="method-text" text-anchor="middle">影響確認</text>
    
    <text x="390" y="350" class="small-text" text-anchor="middle">性能測定・ユーザー確認</text>
  </g>

  <!-- 5. Documentation Phase -->
  <g id="documentation">
    <rect x="530" y="240" width="200" height="120" class="documentation-box" rx="10"/>
    <text x="630" y="265" class="stage-title" text-anchor="middle">5. 文書化</text>
    
    <rect x="545" y="280" width="170" height="25" class="component" rx="3"/>
    <text x="630" y="297" class="method-text" text-anchor="middle">インシデント記録</text>
    
    <rect x="545" y="310" width="170" height="25" class="component" rx="3"/>
    <text x="630" y="327" class="method-text" text-anchor="middle">再発防止策</text>
    
    <text x="630" y="350" class="small-text" text-anchor="middle">ナレッジベース更新</text>
  </g>

  <!-- Flow Arrows -->
  <path d="M 250 140 L 290 140" class="flow-arrow"/>
  <path d="M 490 140 L 530 140" class="flow-arrow"/>
  <path d="M 630 200 L 390 240" class="flow-arrow"/>
  <path d="M 490 300 L 530 300" class="flow-arrow"/>
  
  <!-- Feedback Loop -->
  <path d="M 150 200 Q 150 400 390 400 Q 630 400 630 360" class="feedback-arrow"/>
  <text x="390" y="420" class="small-text" text-anchor="middle">継続的改善</text>

  <!-- Troubleshooting Tools -->
  <g id="tools">
    <rect x="50" y="450" width="800" height="200" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1" rx="5"/>
    <text x="450" y="475" class="method-text" text-anchor="middle" font-weight="bold">トラブルシューティングツール</text>
    
    <!-- Network Tools -->
    <rect x="70" y="490" width="180" height="140" fill="#e6f3ff" stroke="#3498db" stroke-width="1" rx="3"/>
    <text x="160" y="510" class="method-text" text-anchor="middle" font-weight="bold">ネットワーク</text>
    <text x="80" y="530" class="small-text">• ping / traceroute</text>
    <text x="80" y="545" class="small-text">• tcpdump / Wireshark</text>
    <text x="80" y="560" class="small-text">• netstat / ss</text>
    <text x="80" y="575" class="small-text">• nslookup / dig</text>
    <text x="80" y="590" class="small-text">• curl / wget</text>
    <text x="80" y="605" class="small-text">• iperf3</text>
    <text x="80" y="620" class="small-text">• mtr</text>
    
    <!-- System Tools -->
    <rect x="270" y="490" width="180" height="140" fill="#ffe6e6" stroke="#e74c3c" stroke-width="1" rx="3"/>
    <text x="360" y="510" class="method-text" text-anchor="middle" font-weight="bold">システム</text>
    <text x="280" y="530" class="small-text">• top / htop</text>
    <text x="280" y="545" class="small-text">• ps / pstree</text>
    <text x="280" y="560" class="small-text">• vmstat / iostat</text>
    <text x="280" y="575" class="small-text">• df / du</text>
    <text x="280" y="590" class="small-text">• lsof / fuser</text>
    <text x="280" y="605" class="small-text">• strace / ltrace</text>
    <text x="280" y="620" class="small-text">• dmesg</text>
    
    <!-- Log Analysis -->
    <rect x="470" y="490" width="180" height="140" fill="#e6ffe6" stroke="#2ecc71" stroke-width="1" rx="3"/>
    <text x="560" y="510" class="method-text" text-anchor="middle" font-weight="bold">ログ分析</text>
    <text x="480" y="530" class="small-text">• grep / awk / sed</text>
    <text x="480" y="545" class="small-text">• tail -f</text>
    <text x="480" y="560" class="small-text">• journalctl</text>
    <text x="480" y="575" class="small-text">• ELK Stack</text>
    <text x="480" y="590" class="small-text">• Splunk</text>
    <text x="480" y="605" class="small-text">• Fluentd</text>
    <text x="480" y="620" class="small-text">• Datadog</text>
    
    <!-- Monitoring -->
    <rect x="670" y="490" width="160" height="140" fill="#fff3cd" stroke="#f39c12" stroke-width="1" rx="3"/>
    <text x="750" y="510" class="method-text" text-anchor="middle" font-weight="bold">監視</text>
    <text x="680" y="530" class="small-text">• Zabbix</text>
    <text x="680" y="545" class="small-text">• Prometheus</text>
    <text x="680" y="560" class="small-text">• Grafana</text>
    <text x="680" y="575" class="small-text">• Nagios</text>
    <text x="680" y="590" class="small-text">• New Relic</text>
    <text x="680" y="605" class="small-text">• CloudWatch</text>
    <text x="680" y="620" class="small-text">• PagerDuty</text>
  </g>
</svg>